<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        *{
            margin: 0;
            padding: 0;
            list-style: none;
        }

        .header{
            display: block;
            width: 100%;
            height: 40px;
            border: 1px solid black;
            line-height: 40px;
            position: fixed;
            z-index: 2;
            background-color: white;
        }
        button{
            height: 25px;
            width: 70px;
            margin-left: 30px;
        }
        
        .body{
            position: absolute;
            top: 20px;
            width: 100%;
            
            margin-top: 50px;
        }
        .body table{
            display: none;
        }

        table th, table td {
            width: 24vw;
            border: 1pt solid black;
        }
        
        .detail{
            width: 350px;
            height: 350px;
            position: fixed;
            left: 0;
            right: 0;
            top: 0;
            bottom: 0;
            margin: auto;
            border: 1px solid black;
            display: none;
            z-index: 3;
            background-color: blanchedalmond;
            overflow: scroll;
        }
    </style>
</head>
<body>
    <div>Hello</div>
    <div class="header">
        <button onclick="show()">Try Me</button>
        <button onclick="bye()">Good Bye</button>
    </div>

    <div class="body">
       <table> 
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Body</th>
                <th>Detail</th>
            </tr>
        </thead>
        <tbody>
            <!-- <tr>
                <td>01</td>
                <td>Jay Xu</td>
                <td>378092062@QQ.COM</td>
                <td><button>Detail</button></td>
            </tr> -->
        </tbody>
    </table>
    </div>
    
    
    
    
    <div class="detail">
        <table> 
            <thead>
                <tr>
                    <th>PostId</th>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Body</th>
                </tr>
            </thead>
            <tbody id="popupBody">
                <!-- <tr>
                    <td>01</td>
                    <td>Jay Xu</td>
                    <td>378092062@QQ.COM</td>
                    <td><button>Detail</button></td>
                </tr> -->
            </tbody>
        </table>
        <button id="close">Close</button>
    </div>

    <script>          
            var oTable = document.getElementsByTagName('table')[0];
            var opopupBody = document.getElementById('popupBody');
            var oTbody = document.getElementsByTagName('tbody')[0];
            var oDetail = document.getElementsByClassName('detail')[0];
            var oClose = document.getElementById('close');
            var detail_id = document.getElementById('id');
            var detail_name = document.getElementById('name');
            var detail_email = document.getElementById('email');
            var detail_body = document.getElementById('body');
        function show(){
            fetch("https://jsonplaceholder.typicode.com/posts/1/comments").then((res) => res.json()).then(json=>
             { 
                oTable.style.display = 'block';
                for(var i = 0; i < 100; i++){
                    var list = "<tr><td>" +json[i].id +"</td><td>" +json[i].name+"</td><td>" +json[i].email+ "</td><td>" +json[i].body+ "</td><td><button onclick='showDetail(this)'>Detail</button></td></tr>"
                    oTbody.innerHTML += list;
                }
             })
        }

        function bye(){
            oTable.style.display = 'none';
        }

        function showDetail(obj){

            console.log('12');
            oDetail.style.display ='block';

            var oBody = obj.parentNode.previousSibling.innerText;
            var oEmail = obj.parentNode.previousSibling.previousSibling.innerText;
            var oName = obj.parentNode.previousSibling.previousSibling.previousSibling.innerText;
            var oId = obj.parentNode.previousSibling.previousSibling.previousSibling.previousSibling.innerText;
            
            fetch("https://jsonplaceholder.typicode.com/comments?postId="+oId+'').then((res) => res.json()).then(json=>
             { 
                for(var i = 0; i < json.length; i++){
                    var list = "<tr><td>" +json[i].postId +"</td><td>" +json[i].id +"</td><td>" +json[i].name+"</td><td>" +json[i].email+ "</td><td>" +json[i].body+ "</td></tr>"
                    opopupBody.innerHTML += list;
                }
             })
           
           
            // detail_id.innerHTML = oId;
            // detail_name.innerHTML = oName;
            // detail_email.innerHTML = oEmail;
            // detail_body.innerHTML = oBody;
           
            oClose.onclick = function(){
                oDetail.style.display ='none';
                opopupBody.innerHTML = '';
            }

        }

    </script>
</body>
</html>